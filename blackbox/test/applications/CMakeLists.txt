INCLUDE(TribitsAddExecutableAndTest)
INCLUDE(TribitsCopyFilesToBinaryDir)

#INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
SET_AND_INC_DIRS(DIR ${CMAKE_CURRENT_SOURCE_DIR})
APPEND_GLOB(NOINSTALLHEADERS ${DIR}/*.hpp)
APPEND_GLOB(SOURCES ${DIR}/*.cpp)

TRIBITS_ADD_LIBRARY(
  test_apps
  NO_INSTALL_LIB_OR_HEADERS
  NOINSTALLHEADERS ${NOINSTALLHEADERS}
  SOURCES ${SOURCES}
  DEPLIBS pikeblackbox
  )



SET(UNIT_TEST_DRIVER ${TEUCHOS_STD_UNIT_TEST_MAIN})

TRIBITS_ADD_EXECUTABLE_AND_TEST(
  applications
  SOURCES applications.cpp ${UNIT_TEST_DRIVER}
  NUM_MPI_PROCS 1
  )

#TRIBITS_COPY_FILES_TO_BINARY_DIR(core_tests
#  SOURCE_FILES parameter_list_acceptance_test.xml parameter_list_acceptance_test2.xml
#  EXEDEPS parameter_list_acceptance_test
#  )
